<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>fullPage.js — 回调函数演示_dowebok</title>
    <link rel="stylesheet" href="https://cdn.dowebok.com/77/css/jquery.fullPage.css">
    <style>
        .section {
            text-align: center;
            font: 50px "Microsoft Yahei";
            color: #fff;
        }

        .section2 p {
            position: relative;
            left: -120%;
        }

        .section3 p {
            position: relative;
            bottom: -120%;
        }

        .section4 p {
            display: none;
        }
    </style>
    <script src="https://cdn.staticfile.org/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://cdn.dowebok.com/77/js/jquery.fullPage.min.js"></script>
    <script src="https://cdn.staticfile.org/jquery-easing/1.3/jquery.easing.min.js"></script>
    <script>
        $(function () {
            $('#dowebok').fullpage({
                sectionsColor: ['#1bbc9b', '#4BBFC3', '#7BAABE', '#f90'],
                //滚动到某一屏后的回调函数，接收 anchorLink 和 index 两个参数，anchorLink 是锚链接的名称，index 是序号，从1开始计算
                afterLoad: function (anchorLink, index) {
                    if (index == 2) {
                        $('.section2').find('p').delay(500).animate({
                            left: '0'
                        }, 1500, 'easeInQuart');
                    }
                    if (index == 3) {
                        $('.section3').find('p').delay(500).animate({
                            bottom: '0'
                        }, 1500, 'easeOutExpo');
                    }
                    if (index == 4) {
                        $('.section4').find('p').fadeIn(2000);
                    }
                },
                //滚动前的回调函数，接收 index、nextIndex 和 direction 3个参数：index 是离开的“页面”的序号，从1开始计算；
                // nextIndex 是滚动到的“页面”的序号，从1开始计算；
                // direction 判断往上滚动还是往下滚动，值是 up 或 down。
                onLeave: function (index, direction) {
                    if (index == '2') {
                        $('.section2').find('p').delay(500).animate({
                            left: '-120%'
                        }, 1500, 'easeOutExpo');
                    }
                    if (index == '3') {
                        $('.section3').find('p').delay(500).animate({
                            bottom: '-120%'
                        }, 1500, 'easeOutExpo');
                    }
                    if (index == '4') {
                        $('.section4').find('p').fadeOut(2000);
                    }
                }
            });
        });
    </script>
</head>

<body>

    <div id="dowebok">
        <div class="section section1">
            <h3>第一屏</h3>
            <p>fullPage.js — 回调函数演示</p>
        </div>
        <div class="section section2">
            <h3>第二屏</h3>
            <p>滚动到第二屏后的回调函数执行的效果</p>
        </div>
        <div class="section section3">
            <h3>第三屏</h3>
            <p>滚动到第三屏后的回调函数执行的效果</p>
        </div>
        <div class="section section4">
            <h3>第四屏</h3>
            <p>滚动到第四屏后的回调函数执行的效果</p>
        </div>
    </div>
</body>

</html>